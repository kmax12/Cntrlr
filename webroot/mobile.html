<html><head>
<style>
p {
height:30px;
width:100%;
background-color: red;
}
</style>
<script type="text/javascript" src="http://localhost:8082/nowjs/now.js"></script>
<script type="text/javascript" src="http://localhost:8082/socket.io/socket.io.js"></script>

<script type="text/javascript">
var oldx,oldy,newx,newy, startx, starty, finalx, finaly, startTime, endTime;
now.cntrlr = 1;
now.ready(function(){
	alert(now.cntrlr);
    window.ontouchstart =  window.onmousedown = function (e) {
    	startTime = new Date().getTime()
    	startx = oldx = e.clientX
    	starty = oldy = e.clientY
	};
	
	window.ontouchmove = window.onmousemove  = function (y) {
		newx = e.clientX;
		newy = e.clientY;
		dx = newx-oldx;
		dy = newy-oldy;
		oldx = newx;
		oldy = newy;
		
		now.sendDrag(dx,dy);
	};

    window.ontouchend =  onmouseup = function (e) {
    	endTime = new Date().getTime();
    	finalx = e.clientX;
    	finaly = e.clientY;
    	
    	dtime = finalTime - startTime;
		speedx = (finalx-startx) / dtime;
		speedy = (finaly-starty) / dtime;
    	
    	now.sendExtra(speedx,speedy)
		//alert(user.clientId);
		//now.sendScrollPosition(window.pageXOffset,window.pageYOffset);
	};

	var action = function () {
		now.sendScrollPosition(window.pageXOffset,window.pageYOffset);
	}

	now.recieveScrollPosition = function (x,y, sender) {
		if (this.clientID!=sender) {
			window.scrollTo(x,y)
		}
	}
	});
</script>
</head>
<body><p style="width:100%; height:30px; background-color:#89081f">Test0</p><p style="width:100%; height:30px; background-color:#ca551d">Test1</p><p style="width:100%; height:30px; background-color:#569656">Test2</p><p style="width:100%; height:30px; background-color:#3f39a3">Test3</p><p style="width:100%; height:30px; background-color:#8e4b40">Test4</p><p style="width:100%; height:30px; background-color:#b1a459">Test5</p><p style="width:100%; height:30px; background-color:#f19214">Test6</p><p style="width:100%; height:30px; background-color:#a6ae66">Test7</p><p style="width:100%; height:30px; background-color:#3dcf23">Test8</p><p style="width:100%; height:30px; background-color:#ca383b">Test9</p><p style="width:100%; height:30px; background-color:#d6af6b">Test10</p><p style="width:100%; height:30px; background-color:#23edb2">Test11</p><p style="width:100%; height:30px; background-color:#a1a762">Test12</p><p style="width:100%; height:30px; background-color:#287630">Test13</p><p style="width:100%; height:30px; background-color:#94a34c">Test14</p><p style="width:100%; height:30px; background-color:#671129">Test15</p><p style="width:100%; height:30px; background-color:#5bc7d6">Test16</p><p style="width:100%; height:30px; background-color:#d3a957">Test17</p><p style="width:100%; height:30px; background-color:#9114af">Test18</p><p style="width:100%; height:30px; background-color:#b3b7f3">Test19</p><p style="width:100%; height:30px; background-color:#3e18d9">Test20</p><p style="width:100%; height:30px; background-color:#d1d766">Test21</p><p style="width:100%; height:30px; background-color:#3646b3">Test22</p><p style="width:100%; height:30px; background-color:#008638">Test23</p><p style="width:100%; height:30px; background-color:#933bc9">Test24</p><p style="width:100%; height:30px; background-color:#2cb4f7">Test25</p><p style="width:100%; height:30px; background-color:#5fa615">Test26</p><p style="width:100%; height:30px; background-color:#519134">Test27</p><p style="width:100%; height:30px; background-color:#bba4f4">Test28</p><p style="width:100%; height:30px; background-color:#32ec12">Test29</p><p style="width:100%; height:30px; background-color:#70534d">Test30</p><p style="width:100%; height:30px; background-color:#b37d5b">Test31</p><p style="width:100%; height:30px; background-color:#2c63d5">Test32</p><p style="width:100%; height:30px; background-color:#1b7354">Test33</p><p style="width:100%; height:30px; background-color:#2a69de">Test34</p><p style="width:100%; height:30px; background-color:#5a9e84">Test35</p><p style="width:100%; height:30px; background-color:#07a1e2">Test36</p><p style="width:100%; height:30px; background-color:#1a4a26">Test37</p><p style="width:100%; height:30px; background-color:#4c4f8c">Test38</p><p style="width:100%; height:30px; background-color:#6af840">Test39</p><p style="width:100%; height:30px; background-color:#559fda">Test40</p><p style="width:100%; height:30px; background-color:#0d0e71">Test41</p><p style="width:100%; height:30px; background-color:#7eaac6">Test42</p><p style="width:100%; height:30px; background-color:#957f41">Test43</p><p style="width:100%; height:30px; background-color:#e855f8">Test44</p><p style="width:100%; height:30px; background-color:#e8d3f0">Test45</p><p style="width:100%; height:30px; background-color:#b50b4e">Test46</p><p style="width:100%; height:30px; background-color:#636630">Test47</p><p style="width:100%; height:30px; background-color:#fb5186">Test48</p><p style="width:100%; height:30px; background-color:#0764bd">Test49</p><p style="width:100%; height:30px; background-color:#f46a97">Test50</p><p style="width:100%; height:30px; background-color:#f8c0e8">Test51</p><p style="width:100%; height:30px; background-color:#1aae61">Test52</p><p style="width:100%; height:30px; background-color:#baa9bc">Test53</p><p style="width:100%; height:30px; background-color:#a2dff8">Test54</p><p style="width:100%; height:30px; background-color:#ba4254">Test55</p><p style="width:100%; height:30px; background-color:#81f6a1">Test56</p><p style="width:100%; height:30px; background-color:#1c2e5f">Test57</p><p style="width:100%; height:30px; background-color:#6eb68e">Test58</p><p style="width:100%; height:30px; background-color:#4cc8d1">Test59</p><p style="width:100%; height:30px; background-color:#904155">Test60</p><p style="width:100%; height:30px; background-color:#7030e9">Test61</p><p style="width:100%; height:30px; background-color:#e8b8e4">Test62</p><p style="width:100%; height:30px; background-color:#535ba9">Test63</p><p style="width:100%; height:30px; background-color:#479178">Test64</p><p style="width:100%; height:30px; background-color:#a61560">Test65</p><p style="width:100%; height:30px; background-color:#b845ea">Test66</p><p style="width:100%; height:30px; background-color:#669886">Test67</p><p style="width:100%; height:30px; background-color:#8f2fed">Test68</p><p style="width:100%; height:30px; background-color:#519386">Test69</p><p style="width:100%; height:30px; background-color:#ff28fe">Test70</p><p style="width:100%; height:30px; background-color:#909957">Test71</p><p style="width:100%; height:30px; background-color:#673a60">Test72</p><p style="width:100%; height:30px; background-color:#484bd5">Test73</p><p style="width:100%; height:30px; background-color:#34a31e">Test74</p><p style="width:100%; height:30px; background-color:#5422ce">Test75</p><p style="width:100%; height:30px; background-color:#ae7775">Test76</p><p style="width:100%; height:30px; background-color:#964eff">Test77</p><p style="width:100%; height:30px; background-color:#d2746c">Test78</p><p style="width:100%; height:30px; background-color:#741485">Test79</p><p style="width:100%; height:30px; background-color:#46dbb6">Test80</p><p style="width:100%; height:30px; background-color:#17d6fb">Test81</p><p style="width:100%; height:30px; background-color:#290ea1">Test82</p><p style="width:100%; height:30px; background-color:#96d93e">Test83</p><p style="width:100%; height:30px; background-color:#fc236a">Test84</p><p style="width:100%; height:30px; background-color:#a2ba65">Test85</p><p style="width:100%; height:30px; background-color:#9901d1">Test86</p><p style="width:100%; height:30px; background-color:#0d6b08">Test87</p><p style="width:100%; height:30px; background-color:#f4a97b">Test88</p><p style="width:100%; height:30px; background-color:#5f0544">Test89</p><p style="width:100%; height:30px; background-color:#8ecf11">Test90</p><p style="width:100%; height:30px; background-color:#3c0569">Test91</p><p style="width:100%; height:30px; background-color:#83032f">Test92</p><p style="width:100%; height:30px; background-color:#20b88e">Test93</p><p style="width:100%; height:30px; background-color:#08f1f6">Test94</p><p style="width:100%; height:30px; background-color:#1b66ae">Test95</p><p style="width:100%; height:30px; background-color:#cf409b">Test96</p><p style="width:100%; height:30px; background-color:#d4f1ef">Test97</p><p style="width:100%; height:30px; background-color:#3e4501">Test98</p><p style="width:100%; height:30px; background-color:#d999f5">Test99</p></body></html>
